{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useNavigate } from \"react-router-dom\";\nimport cryptoJs from \"crypto-js\";\nconst secretKey = `${process.env.REACT_APP_DB_SECRETKEY}`;\nconst iv = `${process.env.REACT_APP_DB_IV}`;\n{/* 암호화 */}\nexport function encrypt(text) {\n  const cipher = cryptoJs.AES.encrypt(text, cryptoJs.enc.Utf8.parse(secretKey), {\n    iv: cryptoJs.enc.Utf8.parse(iv),\n    padding: cryptoJs.pad.Pkcs7,\n    mode: cryptoJs.mode.CBC\n  });\n  return cipher.toString();\n}\n{/* 복호화 */}\nexport function decrypt(encryptedText) {\n  const decipher = cryptoJs.AES.decrypt(encryptedText, cryptoJs.enc.Utf8.parse(secretKey), {\n    iv: cryptoJs.enc.Utf8.parse(iv),\n    padding: cryptoJs.pad.Pkcs7,\n    mode: cryptoJs.mode.CBC\n  });\n  return decipher.toString(cryptoJs.enc.Utf8);\n}\n{/* 토큰 파싱 */}\nexport function parseJwt(token) {\n  if (!token) {\n    return null;\n  }\n  const parts = token.split('.');\n  if (parts.length !== 3) {\n    return null;\n  }\n  const base64Url = parts[1];\n  if (!base64Url) {\n    return null;\n  }\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  try {\n    const jsonPayload = decodeURIComponent(atob(base64).split('').map(c => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)).join(''));\n    return JSON.parse(jsonPayload);\n  } catch (error) {\n    return null;\n  }\n}\n{/* 날짜 형식 지정 */}\nexport function formatTime(dateTimeString) {\n  const options = {\n    year: 'numeric',\n    month: 'numeric',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    hour12: false\n  };\n  const dateTime = new Date(dateTimeString);\n  return dateTime.toLocaleString(undefined, options);\n}\n{/* 개인페이지로 이동 */}\nexport function ToPersonalPage(url) {\n  _s();\n  const navigate = useNavigate();\n  return navigate('/PersonalPage');\n}\n_s(ToPersonalPage, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = ToPersonalPage;\nexport function ToMainPage() {\n  _s2();\n  const navigate = useNavigate();\n  return navigate('/');\n}\n_s2(ToMainPage, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c2 = ToMainPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"ToPersonalPage\");\n$RefreshReg$(_c2, \"ToMainPage\");","map":{"version":3,"names":["useNavigate","cryptoJs","secretKey","process","env","REACT_APP_DB_SECRETKEY","iv","REACT_APP_DB_IV","encrypt","text","cipher","AES","enc","Utf8","parse","padding","pad","Pkcs7","mode","CBC","toString","decrypt","encryptedText","decipher","parseJwt","token","parts","split","length","base64Url","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","slice","join","JSON","error","formatTime","dateTimeString","options","year","month","day","hour","minute","hour12","dateTime","Date","toLocaleString","undefined","ToPersonalPage","url","_s","navigate","_c","ToMainPage","_s2","_c2","$RefreshReg$"],"sources":["C:/Users/saint/webpro/webpro/src/modules/Kst_modules.ts"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\r\nimport cryptoJs from \"crypto-js\";\r\n\r\nconst secretKey = `${process.env.REACT_APP_DB_SECRETKEY}`;\r\nconst iv = `${process.env.REACT_APP_DB_IV}`;\r\n\r\n{/* 암호화 */}\r\n\r\nexport function encrypt(text: string): any {\r\n  const cipher = cryptoJs.AES.encrypt(text, cryptoJs.enc.Utf8.parse(secretKey), {\r\n    iv: cryptoJs.enc.Utf8.parse(iv),\r\n    padding: cryptoJs.pad.Pkcs7,\r\n    mode: cryptoJs.mode.CBC,\r\n  });\r\n\r\n  return cipher.toString();\r\n}\r\n\r\n\r\n{/* 복호화 */}\r\n\r\nexport function decrypt(encryptedText: string): any {\r\n  const decipher = cryptoJs.AES.decrypt(encryptedText, cryptoJs.enc.Utf8.parse(secretKey), {\r\n    iv: cryptoJs.enc.Utf8.parse(iv),\r\n    padding: cryptoJs.pad.Pkcs7,\r\n    mode: cryptoJs.mode.CBC,\r\n  });\r\n  return decipher.toString(cryptoJs.enc.Utf8);\r\n}\r\n\r\n\r\n{/* 토큰 파싱 */}\r\n\r\nexport function parseJwt(token: string): any {\r\n  if (!token) {\r\n    return null;\r\n  }\r\n\r\n  const parts = token.split('.');\r\n\r\n  if (parts.length !== 3) {\r\n    return null;\r\n  }\r\n\r\n  const base64Url = parts[1];\r\n\r\n  if (!base64Url) {\r\n    return null;\r\n  }\r\n\r\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n\r\n  try {\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split('')\r\n        .map((c) => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join('')\r\n    );\r\n\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n}\r\n\r\n\r\n{/* 날짜 형식 지정 */}\r\n\r\nexport function formatTime(dateTimeString: string): string {\r\n  const options: Intl.DateTimeFormatOptions = {\r\n    year: 'numeric',\r\n    month: 'numeric',\r\n    day: 'numeric',\r\n    hour: 'numeric',\r\n    minute: 'numeric',\r\n    hour12: false,\r\n}\r\n\r\nconst dateTime = new Date(dateTimeString);\r\nreturn dateTime.toLocaleString(undefined, options);\r\n}\r\n\r\n\r\n{/* 개인페이지로 이동 */}\r\n\r\nexport function ToPersonalPage(url: string) {\r\n  const navigate = useNavigate();\r\n\r\n  return navigate('/PersonalPage');\r\n}\r\n\r\nexport function ToMainPage() {\r\n  const navigate = useNavigate();\r\n\r\n  return navigate('/');\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}